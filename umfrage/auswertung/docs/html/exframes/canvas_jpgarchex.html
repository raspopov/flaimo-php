<code><font color="#000000">
<font color="#0000CC">&lt;?php<br /></font><font color="#FF9900">// $Id: canvas_jpgarchex.php,v 1.3 2002/08/29 10:14:19 aditus Exp $<br /></font><font color="#006600">include&nbsp;</font><font color="#CC0000">"../jpgraph.php"</font><font color="#006600">;<br />include&nbsp;</font><font color="#CC0000">"../jpgraph_canvas.php"</font><font color="#006600">;<br />include&nbsp;</font><font color="#CC0000">"../jpgraph_canvtools.php"</font><font color="#006600">;<br /><br /></font><font color="#FF9900">// Scale we are using<br /></font><font color="#0000CC">$ymax</font><font color="#006600">=</font><font color="#0000CC">24</font><font color="#006600">;<br /></font><font color="#0000CC">$xmax</font><font color="#006600">=</font><font color="#0000CC">20</font><font color="#006600">;<br /><br /></font><font color="#FF9900">// Setup the basic canvas<br /></font><font color="#0000CC">$g&nbsp;</font><font color="#006600">=&nbsp;new&nbsp;</font><font color="#0000CC">CanvasGraph</font><font color="#006600">(</font><font color="#0000CC">700</font><font color="#006600">,</font><font color="#0000CC">650</font><font color="#006600">,</font><font color="#CC0000">'auto'</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMargin</font><font color="#006600">(</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">SetMarginColor</font><font color="#006600">(</font><font color="#CC0000">"teal"</font><font color="#006600">);<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">InitFrame</font><font color="#006600">();<br /><br /></font><font color="#FF9900">// ... and a scale<br /></font><font color="#0000CC">$scale&nbsp;</font><font color="#006600">=&nbsp;new&nbsp;</font><font color="#0000CC">CanvasScale</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">);<br /></font><font color="#0000CC">$scale</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#0000CC">$xmax</font><font color="#006600">,</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#0000CC">$ymax</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// ... we need shape since we want the indented rectangle<br /></font><font color="#0000CC">$shape&nbsp;</font><font color="#006600">=&nbsp;new&nbsp;</font><font color="#0000CC">Shape</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">'black'</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// ... basic parameters for the overall image<br /></font><font color="#0000CC">$l&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">2</font><font color="#006600">;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF9900">// Left margin<br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">18</font><font color="#006600">;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF9900">// Row number to start the lowest line on<br /></font><font color="#0000CC">$width&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">16</font><font color="#006600">;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#FF9900">// Total width<br /><br />// Setup the two basic rectangle text object we&nbsp;&nbsp;will use<br /></font><font color="#0000CC">$tt&nbsp;</font><font color="#006600">=&nbsp;new&nbsp;</font><font color="#0000CC">CanvasRectangleText</font><font color="#006600">();<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_ARIAL</font><font color="#006600">,</font><font color="#0000CC">FS_NORMAL</font><font color="#006600">,</font><font color="#0000CC">14</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">''</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetColor</font><font color="#006600">(</font><font color="#CC0000">''</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFontColor</font><font color="#006600">(</font><font color="#CC0000">'navy'</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$t&nbsp;</font><font color="#006600">=&nbsp;new&nbsp;</font><font color="#0000CC">CanvasRectangleText</font><font color="#006600">();<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_ARIAL</font><font color="#006600">,</font><font color="#0000CC">FS_NORMAL</font><font color="#006600">,</font><font color="#0000CC">14</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'goldenrod1'</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFontColor</font><font color="#006600">(</font><font color="#CC0000">'navy'</font><font color="#006600">);<br /><br /><br /></font><font color="#FF9900">// Now start drawing the arch overview from the bottom and up<br />// This is all pretty manual and one day I will write a proper<br />// framework to make it easy to construct these types of architecture<br />// overviews. But for now, just plain old coordinates..<br /><br />// Line: GD Library and image libraries<br /></font><font color="#0000CC">$h</font><font color="#006600">=</font><font color="#0000CC">3</font><font color="#006600">;<br /></font><font color="#0000CC">$s&nbsp;&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">3</font><font color="#006600">;&nbsp;</font><font color="#0000CC">$d</font><font color="#006600">=</font><font color="#0000CC">$l&nbsp;</font><font color="#006600">+&nbsp;</font><font color="#0000CC">$width</font><font color="#006600">-</font><font color="#0000CC">9</font><font color="#006600">;<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'cadetblue3'</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"TTF"</font><font color="#006600">,</font><font color="#0000CC">$d</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$s</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"PNG"</font><font color="#006600">,</font><font color="#0000CC">$d</font><font color="#006600">+</font><font color="#0000CC">$s</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$s</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"JPEG"</font><font color="#006600">,</font><font color="#0000CC">$d</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">*</font><font color="#0000CC">$s</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$s</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">IndentedRectangle</font><font color="#006600">(</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">,</font><font color="#0000CC">$s</font><font color="#006600">*</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#CC0000">'lightgreen'</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"GD Basic library\n(1.8.x or 2.x)"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">-</font><font color="#0000CC">1</font><font color="#006600">);&nbsp;<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /><br /></font><font color="#FF9900">// Area: Basic internal JpGraph architecture<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'goldenrod1'</font><font color="#006600">);<br /></font><font color="#0000CC">$h&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">2</font><font color="#006600">;<br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">$h</font><font color="#006600">;&nbsp;</font><font color="#0000CC">$d</font><font color="#006600">=</font><font color="#0000CC">8</font><font color="#006600">;<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Image primitives\n(RGB, Anti-aliasing,\nGD Abstraction)"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">-</font><font color="#0000CC">0.5</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.5</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">+</font><font color="#0000CC">0.5</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Image Cache &amp;\nStreaming"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">0.5</font><font color="#006600">*</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.4</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">$h</font><font color="#006600">;&nbsp;</font><font color="#0000CC">$d</font><font color="#006600">=</font><font color="#0000CC">8</font><font color="#006600">;<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"2D Rot &amp; Transformation"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.5</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">-</font><font color="#0000CC">0.5</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /><br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">2</font><font color="#006600">;&nbsp;</font><font color="#0000CC">$h&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">4</font><font color="#006600">;<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">IndentedRectangle</font><font color="#006600">(</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.9</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">,</font><font color="#0000CC">$d</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#CC0000">'goldenrod1'</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Axis, Labelling, (Auto)-Scaling"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.9</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">-</font><font color="#0000CC">2</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">1</font><font color="#006600">;<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">IndentedRectangle</font><font color="#006600">(</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">7</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.9</font><font color="#006600">,</font><font color="#0000CC">6</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#CC0000">'goldenrod1'</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Error handling &amp; Utility classes"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /><br /></font><font color="#FF9900">// Area: Top area with graph components<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'gold1'</font><font color="#006600">);<br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">3</font><font color="#006600">;<br /></font><font color="#0000CC">$w&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">$width</font><font color="#006600">*</font><font color="#0000CC">0.55</font><font color="#006600">/</font><font color="#0000CC">4</font><font color="#006600">;&nbsp;</font><font color="#0000CC">$h&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">2</font><font color="#006600">;<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Gantt\nGraph"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Pie\nGraph"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Radar\nGraph"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">$w</font><font color="#006600">*</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">IndentedRectangle</font><font color="#006600">(</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">,</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#CC0000">'gold1'</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Base Graph\n(Orthogonal\ncoordinate system)"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">-</font><font color="#0000CC">$w</font><font color="#006600">*</font><font color="#0000CC">4</font><font color="#006600">,</font><font color="#0000CC">3</font><font color="#006600">);&nbsp;<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">2</font><font color="#006600">;<br /></font><font color="#0000CC">$d&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">0.7</font><font color="#006600">;<br /></font><font color="#0000CC">$shape</font><font color="#006600">-&gt;</font><font color="#0000CC">IndentedRectangle</font><font color="#006600">(</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">3</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">4</font><font color="#006600">,&nbsp;</font><font color="#0000CC">$w</font><font color="#006600">*</font><font color="#0000CC">$d</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">0</font><font color="#006600">,</font><font color="#CC0000">'gold1'</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Canv\nUtil"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">3</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">*</font><font color="#0000CC">$d</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Canvas\nGraph"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">3</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">2</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Top line of plotting plugins<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'cyan'</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Gantt\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"2D\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">/</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"3D\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">$w</font><font color="#006600">+</font><font color="#0000CC">$w</font><font color="#006600">/</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">/</font><font color="#0000CC">2</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Radar\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#0000CC">$wp&nbsp;</font><font color="#006600">=&nbsp;(</font><font color="#0000CC">$width&nbsp;</font><font color="#006600">-&nbsp;</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">)/</font><font color="#0000CC">4</font><font color="#006600">;&nbsp;<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Error\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Line\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">+</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Bar\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">+</font><font color="#0000CC">2</font><font color="#006600">*</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Scatter\nPlot"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">+</font><font color="#0000CC">4</font><font color="#006600">*</font><font color="#0000CC">$w</font><font color="#006600">+</font><font color="#0000CC">3</font><font color="#006600">*</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$wp</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Show application top<br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">-=&nbsp;</font><font color="#0000CC">2.5</font><font color="#006600">;&nbsp;</font><font color="#0000CC">$h</font><font color="#006600">=</font><font color="#0000CC">2</font><font color="#006600">;&nbsp;<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFillColor</font><font color="#006600">(</font><font color="#CC0000">'blue'</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFontColor</font><font color="#006600">(</font><font color="#CC0000">'white'</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_ARIAL</font><font color="#006600">,</font><font color="#0000CC">FS_BOLD</font><font color="#006600">,</font><font color="#0000CC">20</font><font color="#006600">);<br /></font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"PHP Application"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">$h</font><font color="#006600">);&nbsp;</font><font color="#0000CC">$t</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Stroke title<br /></font><font color="#0000CC">$r&nbsp;</font><font color="#006600">=&nbsp;</font><font color="#0000CC">0.5</font><font color="#006600">;<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFontColor</font><font color="#006600">(</font><font color="#CC0000">'black'</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_TIMES</font><font color="#006600">,</font><font color="#0000CC">FS_BOLD</font><font color="#006600">,</font><font color="#0000CC">28</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"JpGraph Architecture Overview"</font><font color="#006600">,</font><font color="#0000CC">$l</font><font color="#006600">,</font><font color="#0000CC">$r</font><font color="#006600">,</font><font color="#0000CC">$width</font><font color="#006600">,</font><font color="#0000CC">1</font><font color="#006600">);&nbsp;<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// Stroke footer<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">SetFont</font><font color="#006600">(</font><font color="#0000CC">FF_VERDANA</font><font color="#006600">,</font><font color="#0000CC">FS_NORMAL</font><font color="#006600">,</font><font color="#0000CC">10</font><font color="#006600">);<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Set</font><font color="#006600">(</font><font color="#CC0000">"Generated: "</font><font color="#006600">.</font><font color="#0000CC">date</font><font color="#006600">(</font><font color="#CC0000">"ymd H:m"</font><font color="#006600">,</font><font color="#0000CC">time</font><font color="#006600">()),</font><font color="#0000CC">0.1</font><font color="#006600">,</font><font color="#0000CC">$ymax</font><font color="#006600">*</font><font color="#0000CC">0.95</font><font color="#006600">);&nbsp;<br /></font><font color="#0000CC">$tt</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">(</font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">img</font><font color="#006600">,</font><font color="#0000CC">$scale</font><font color="#006600">);<br /><br /></font><font color="#FF9900">// .. and stream it all back<br /></font><font color="#0000CC">$g</font><font color="#006600">-&gt;</font><font color="#0000CC">Stroke</font><font color="#006600">();<br /><br /></font><font color="#0000CC">?&gt;<br /></font><br /></font>
</code>